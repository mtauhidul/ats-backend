# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=5001
API_VERSION=v1

# ============================================
# DATABASE
# ============================================
MONGODB_URI=mongodb://localhost:27017/ats
# Production: mongodb+srv://username:password@cluster.mongodb.net/ats

# ============================================
# CLERK AUTHENTICATION
# ============================================
CLERK_PUBLISHABLE_KEY=pk_test_xxx
CLERK_SECRET_KEY=sk_test_xxx
CLERK_JWT_KEY=your_jwt_verification_key

# ============================================
# FRONTEND URL (CORS)
# ============================================
FRONTEND_URL=http://localhost:5173
# Production: https://ats.aristagroups.com

# ============================================
# CLOUDINARY (FILE STORAGE)
# ============================================
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ============================================
# OPENAI (AI RESUME PARSING & SCORING)
# ============================================
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4o-mini
OPENAI_SCORING_MODEL=gpt-4o

# ============================================
# AFFINDA RESUME PARSER (RECOMMENDED)
# ============================================
# Get your API token and workspace from: https://app.affinda.com/
# Free tier: 1000 parses/month
# Pricing: $0.10-0.30 per resume
#
# Setup:
# 1. Sign up at https://app.affinda.com/
# 2. Go to Settings → API Keys to get your token
# 3. Go to Workspaces → Copy your workspace identifier (e.g., "wkspc_xxx")
AFFINDA_API_TOKEN=your_affinda_token_here
AFFINDA_WORKSPACE=your_workspace_identifier_here
USE_AFFINDA_PARSER=true  # Set to 'true' to use Affinda (recommended), 'false' to use OpenAI

# ============================================
# ZOOM API (VIDEO INTERVIEWS)
# ============================================
ZOOM_ACCOUNT_ID=your_account_id
ZOOM_CLIENT_ID=your_client_id
ZOOM_CLIENT_SECRET=your_client_secret

# ============================================
# EMAIL CONFIGURATION - OUTBOUND (RESEND)
# ============================================
RESEND_API_KEY=re_xxx
RESEND_FROM_EMAIL=resume@aristagroups.com
RESEND_FROM_NAME=ATS System

# ============================================
# EMAIL CONFIGURATION - INBOUND (SYSTEM EMAIL)
# ============================================
# Production - cPanel IMAP
SYSTEM_EMAIL_HOST=mail.aristagroups.com
SYSTEM_EMAIL_PORT=993
SYSTEM_EMAIL_USER=resume@aristagroups.com
SYSTEM_EMAIL_PASSWORD=your_password
SYSTEM_EMAIL_TLS=true

# Testing - Gmail IMAP (uncomment to use)
# SYSTEM_EMAIL_HOST=imap.gmail.com
# SYSTEM_EMAIL_PORT=993
# SYSTEM_EMAIL_USER=your-test@gmail.com
# SYSTEM_EMAIL_PASSWORD=your_app_password
# SYSTEM_EMAIL_TLS=true

# ============================================
# EMAIL AUTOMATION
# ============================================
EMAIL_CHECK_INTERVAL=15  # minutes
EMAIL_MAX_FETCH=50       # emails per check

# ============================================
# SECURITY
# ============================================
JWT_SECRET=your_jwt_secret_key_change_in_production
JWT_EXPIRES_IN=1h  # Access token expiry (e.g., 15m, 1h, 2h)
REFRESH_TOKEN_SECRET=your_refresh_token_secret_change_in_production
REFRESH_TOKEN_EXPIRES_IN=7d  # Refresh token expiry (e.g., 7d, 30d)
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_IV=your_16_character_iv_here

# ============================================
# RATE LIMITING
# ============================================
# Time window in minutes for rate limiting
RATE_LIMIT_WINDOW=15  

# Max requests per window (set higher for development, lower for production)
# Development: 1000+ recommended
# Production: 100-500 recommended based on your needs
RATE_LIMIT_MAX=1000

# Note: Rate limiting is automatically disabled for localhost in development mode

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ============================================
# FILE UPLOAD LIMITS
# ============================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx

# ============================================
# REDIS (OPTIONAL - FOR CACHING)
# ============================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=
